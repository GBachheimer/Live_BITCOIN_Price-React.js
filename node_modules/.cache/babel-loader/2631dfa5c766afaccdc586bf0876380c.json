{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/GitHub/BITCOIN-Graph/src/components/Graph.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { AreaChart, Area, LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\nimport useWebSocket from 'react-use-websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst bitcoinSocket = new WebSocket(\"wss://stream.binance.com:9443/ws/btcusdt@kline_1m\");\nexport default function Graph() {\n  _s();\n\n  const [graphData, setGraphData] = useState([]);\n  const [min, setMin] = useState(Infinity);\n  const [max, setMax] = useState(0);\n  bitcoinSocket.addEventListener(\"message\", event => {\n    const newPrice = parseFloat(JSON.parse(event.data).k.c);\n    const time = new Date(parseInt(JSON.parse(event.data).k.T));\n    const newData = graphData.concat({\n      price: newPrice,\n      time: time.getHours() + \":\" + ((time.getMinutes() < 10 ? \"0\" : \"\") + time.getMinutes()) + \" \" + time.toLocaleDateString()\n    });\n\n    if (min > newPrice) {\n      setMin(newPrice);\n    } else if (max < newPrice) {\n      setMax(newPrice);\n    }\n\n    if (newData.length - 1 > 20) {\n      newData.shift();\n    }\n\n    setGraphData(newData);\n  });\n  console.log(graphData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"position-absolute top-50 start-50 translate-middle text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"LIVE BITCOIN PRICE IN $$$\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(AreaChart, {\n      width: 730,\n      height: 250,\n      data: graphData,\n      margin: {\n        top: 10,\n        right: 30,\n        left: 0,\n        bottom: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n        children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n          id: \"colorUv\",\n          x1: \"0\",\n          y1: \"0\",\n          x2: \"0\",\n          y2: \"1\",\n          children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"5%\",\n            stopColor: \"#8884d8\",\n            stopOpacity: 0.8\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"95%\",\n            stopColor: \"#8884d8\",\n            stopOpacity: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"time\",\n        tick: {\n          fontSize: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        type: \"number\",\n        domain: [min + 1, max + 1],\n        tick: {\n          fontSize: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Area, {\n        type: \"monotone\",\n        dataKey: \"price\",\n        stroke: \"#8884d8\",\n        fillOpacity: 1,\n        fill: \"url(#colorUv)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Graph, \"ItBFJKwYXQc9g3b0U1Fn2/YaVAU=\");\n\n_c = Graph;\n\nvar _c;\n\n$RefreshReg$(_c, \"Graph\");","map":{"version":3,"names":["React","useState","AreaChart","Area","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","useWebSocket","bitcoinSocket","WebSocket","Graph","graphData","setGraphData","min","setMin","Infinity","max","setMax","addEventListener","event","newPrice","parseFloat","JSON","parse","data","k","c","time","Date","parseInt","T","newData","concat","price","getHours","getMinutes","toLocaleDateString","length","shift","console","log","top","right","left","bottom","fontSize"],"sources":["/Users/mac/Documents/GitHub/BITCOIN-Graph/src/components/Graph.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { AreaChart, Area, LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\nimport useWebSocket from 'react-use-websocket';\n\nconst bitcoinSocket = new WebSocket(\"wss://stream.binance.com:9443/ws/btcusdt@kline_1m\");\n\nexport default function Graph() {\n\tconst [graphData, setGraphData] = useState([]);\n\tconst [min, setMin] = useState(Infinity);\n\tconst [max, setMax] = useState(0);\n\t\n\tbitcoinSocket.addEventListener(\"message\", (event) => {\n\t\tconst newPrice = parseFloat(JSON.parse(event.data).k.c);\n\t\tconst time = new Date(parseInt(JSON.parse(event.data).k.T));\n\t\tconst newData = graphData.concat({\n\t\t\tprice: newPrice,\n\t\t\ttime: \ttime.getHours() + \":\" +\n\t\t\t\t\t((time.getMinutes() < 10 ? \"0\" : \"\") + time.getMinutes()) + \" \" +\n\t\t\t\t\ttime.toLocaleDateString()\n\t\t});\n\t\t\n\t\tif (min > newPrice) {\n\t\t\tsetMin(newPrice);\n\t\t} else if (max < newPrice) {\n\t\t\tsetMax(newPrice);\n\t\t}\n\t\tif (newData.length - 1 > 20) {\n\t\t\tnewData.shift();\n\t\t}\n\t\tsetGraphData(newData);\n\t});\n\tconsole.log(graphData);\n\treturn (\n\t\t<div className = \"position-absolute top-50 start-50 translate-middle text-center\">\n\t\t\t<p>LIVE BITCOIN PRICE IN $$$</p>\n\t\t\t<AreaChart width={730} height={250} data={graphData}\n\t\t\t  margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t  <defs>\n\t\t\t\t<linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n\t\t\t\t  <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8}/>\n\t\t\t\t  <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0}/>\n\t\t\t\t</linearGradient>\n\t\t\t  </defs>\n\t\t\t  <XAxis dataKey=\"time\" tick={{ fontSize: 8}} />\n\t\t\t  <YAxis type = \"number\" domain={[min + 1, max + 1]} tick={{ fontSize: 10 }} />\n\t\t\t  <CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t  <Tooltip />\n\t\t\t  <Area type=\"monotone\" dataKey=\"price\" stroke=\"#8884d8\" fillOpacity={1} fill=\"url(#colorUv)\" />\n\t\t\t</AreaChart>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}